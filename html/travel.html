<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>仰望星空-旅游杂记</title>
    <link rel="stylesheet" type="text/css" href="../res/layui/css/layui.css">
    <link rel="stylesheet" type="text/css" href="../res/css/main.css">
    <!--加载meta IE兼容文件-->
    <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
<![endif]-->
</head>

<body>
    <div class="header">
        <div class="menu-btn">
            <div class="menu"></div>
        </div>
        <h1 class="logo">
            <a href="index.html">
                <span>MYBLOG</span>
                <img src="../res/img/logo.png">
            </a>
        </h1>
        <div class="nav">
            <a href="index.html" class="active">文章</a>
            <a href="whisper.html">微语</a>
            <a href="leacots.html">留言</a>
            <a href="album.html">相册</a>
            <a href="about.html">关于</a>
        </div>
        <ul class="layui-nav header-down-nav">
            <li class="layui-nav-item"><a href="index.html" class="active">文章</a></li>
            <li class="layui-nav-item"><a href="whisper.html">微语</a></li>
            <li class="layui-nav-item"><a href="leacots.html">留言</a></li>
            <li class="layui-nav-item"><a href="album.html">相册</a></li>
            <li class="layui-nav-item"><a href="about.html">关于</a></li>
        </ul>
        <p class="welcome-text">
            欢迎来到<span class="name">仰望星空</span>的博客~
        </p>
    </div>

    <div class="banner">
        <div class="cont w1000">
            <div class="title">
                <h3>MY<br />BLOG</h3>
                <h4>仰望星空</h4>
            </div>
            <!-- <div class="amount">
        <p><span class="text">访问量</span><span class="access">1000</span></p>
        <p><span class="text">日志</span><span class="daily-record">1000</span></p>
      </div> -->
        </div>
    </div>
    <div class="tlinks">Collect from <a href="http://www.cssmoban.com/">网页模板</a></div>
    <div class="content">
        <div class="cont w1000">
            <div class="title">
                <span class="layui-breadcrumb" lay-separator="|">
                    <a href="index.html#list-content">设计文章</a>
                    <a href="tech.html#list-content">前端文章</a>
                    <a href="travel.html#list-content" class="active">旅游杂记</a>
                </span>
            </div>
            <div id="list-content" class="list-item">
            </div>
            <div id="demo" style="text-align: center;"></div>
        </div>
    </div>

    <div class="footer-wrap">
        <div class="footer w1000">
            <div class="qrcode">
                <img src="../res/img/erweima-sina-160.jpg">
            </div>
            <div class="practice-mode">
                <img src="../res/img/down_img.jpg">
                <div class="text">
                    <h4 class="title">联系方式</h4>
                    <p>微信<span class="WeChat">v-yaodong</span></p>
                    <p>手机<span class="iphone">18621740965</span></p>
                    <p>邮箱<span class="email">895415701@qq.com</span></p>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="../res/layui/layui.js"></script>
    <script type="text/javascript">
        var datas = [];
        var currentPage = 1;
        layui.config({
            base: '../res/js/util/'
        }).use(['element', 'laypage', 'jquery', 'menu', 'mm'], function() {
            element = layui.element, laypage = layui.laypage, $ = layui.$, menu = layui.menu, mmm = layui.mm;
            // menu.init();

            $.get("https://www.easy-mock.com/mock/5c189410f328487752970958/example/list3data.json", function(result) {
                datas = result;
                // console.log("总数" + result.length);
                laypage.render({
                    elem: 'demo',
                    count: result.length, //数据总数，从服务端得到
                    limit: 5,
                    jump: function(obj, first) {
                        // console.log("currentPage:" + obj.curr);
                        showPage(obj);
                    }
                });
            });
        })

        //show index page
        function showPage(page) {
            let index = page.curr;
            let limit = page.limit;
            let fromIndex = (index - 1) * limit;
            let toIndex = fromIndex + limit;
            var max = toIndex;
            if (toIndex > datas.length) {
                max = datas.length;
            }
            // console.log("from " + fromIndex + " to " + max);
            $("#list-content").empty();
            for (var i = fromIndex; i < max; i++) {
                let obj = datas[i];
                $("#list-content").append(
                    "<div class='item'>" +
                    "<div class='layui-fluid'>" +
                    "<div class='layui-row'>" +
                    "<div class='layui-col-xs12 layui-col-sm4 layui-col-md5'>" +
                    "<div class='img'><img src=" + obj['img_url'] + " alt=''></div>" +
                    "</div>" +
                    "<div class='layui-col-xs12 layui-col-sm8 layui-col-md7'>" +
                    "<div class='item-cont'>" +
                    "<h3>" + obj['title'] + "<button class='layui-btn layui-btn-danger new-icon'>new</button></h3>" +
                    "<h5>" + obj['type'] + "</h5>" +
                    "<p>" + obj['content'] + "</p>" +
                    "<a href='details.html' class='go-icon'></a>" +
                    "</div>" +
                    "</div>" +
                    "</div>" +
                    "</div>" +
                    "</div>"
                );
            }
        }
    </script>
</body>

</html>